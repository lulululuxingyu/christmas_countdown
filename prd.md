

# 产品需求文档：网页版圣诞倒数日历 (Advent Calendar)

## 1. 项目背景与目标

创建一个基于 Web 的圣诞倒数日历，用户在 12 月的每一天登录网页即可“拆开”一个当日的格子，获得随机或特定的惊喜，增加节日仪式感。

## 2. 核心流程

1. **身份验证**：输入特定暗号（写死的密码）进入系统。
2. **日历主界面**：展示 1-24/25 个礼包格子。
3. **开箱交互**：点击当天的格子，触发动画，显示礼物内容。
4. **状态保存**：用户已领取的礼物记录在浏览器本地，防止刷新丢失。

---

## 3. 功能详细说明

### 3.1 登录模块 (Login)

* **交互逻辑**：简单的输入框 + 确认按钮。
* **验证机制**：前端 JS 硬编码校验。
> **注意**：虽然是写死的密码，但为了防止懂技术的人直接看源代码看到密码，我们会对代码里的密码进行简单的 Base64 加密或 MD5 混淆。


* **错误反馈**：密码错误时弹出震动效果或“圣诞老人摇了摇头”的提示。

### 3.2 倒数日历主面板 (Calendar Grid)

* **布局**：采用 4x6 或 5x5 的网格布局。
* **格子状态**：
* **锁定态**：日期未到，点击提示“还没到时间哦，再等等吧！”。
* **可领取态**：当日格子高亮或有呼吸灯动画。
* **已领取态**：显示已打开的图标，且可以点击回顾内容。



### 3.3 礼物逻辑 (Gift Logic)

这是本产品的核心灵魂，分为两类算法：

* **特殊日期 (Special Days)**：如 12月24日、12月25日或特定的纪念日。
* *逻辑*：由你在配置文件中预设特定的文案、图片或跳转链接。


* **普通日期 (Random Days)**：
* *逻辑*：从一个预设的“随机池”中抽取（如：圣诞笑话、一张插画、一段温暖的话）。
* *持久化*：一旦某天抽中了某个随机礼物，需记录在 `localStorage`，确保用户当天多次打开看到的是同一个礼物。



---

## 4. 界面设计建议 (UI/UX)

* **视觉风格**：深绿色背景，点缀雪花、彩灯和姜饼人元素。
* **动画效果**：
* 雪花飘落背景（Canvas 实现）。
* 点击格子时的“拆纸”或“开盒”动画。
* 成功领取时的彩带纸屑 (Confetti) 效果。



---

## 5. 技术方案概要 (针对 GitHub Pages)

* **框架**：Vanilla JS (原生 JS) 或 React/Vue（如果想做更复杂的动画）。
* **存储**：`localStorage` 用于记录用户的开箱进度。
* **部署**：通过 GitHub Actions 自动化部署到 `username.github.io/project-name`。

---

## 6. 后续迭代想法 (MVP+)

* **音乐播放器**：添加一个轻量的圣诞背景音乐开关。
* **移动端适配**：确保在手机浏览器上也能完美操作。
* **信件系统**：在 25 号最后一天展示一封长信。

---

### 作为你的产品经理，我接下来的建议：

这个 PRD 只是一个框架。为了让开发更顺畅，**你需要先确定以下信息**：

1. **密码是什么？**（建议设置一个你们之间的专属梗）。
2. **特殊日期有哪些？**（除了 24/25 号，是否有属于你们的纪念日？）。
3. **随机池里放什么？**（是土味情话、可爱的猫咪图，还是你拍的照片？）。

**如果你准备好了，我可以帮你写出这个页面的 HTML/JS 核心代码逻辑，或者帮你列出一份具体的“礼物清单”模板。你想先从哪一步开始？**

既然要从春节就开始倒数（作为一个“长周期”的倒数日历），并且需要一个友好的配置方式，我们的产品逻辑需要进行相应的调整。

作为产品经理，我建议将配置逻辑**“抽离化”**：你只需要修改一个简单的 `JSON` 文件，网页就会自动根据日期展示内容。

以下是更新后的 PRD 关键模块：

### 1. 核心配置系统 (Configuration System)

为了方便你更新，我们将所有数据存在一个 `config.js` 或 `config.json` 中。你不需要改动网页结构，只需要像填表一样修改这个文件。

#### A. 礼物定义

* **贵重礼物池 (`exclusiveGifts`)**: 数组格式。每个礼物包含：`id`、`名称`、`内容/图片链接`。**逻辑：** 这种礼物每个只能出现一次，抽完即止。
* **普通礼物池 (`commonGifts`)**: 数组格式。**逻辑：** 这种礼物可以无限次重复抽取。

#### B. 日程配置 (`calendarConfig`)

* **开始日期**: 设置为春节日期（例如：`2025-01-29`）。
* **特殊日子 (`specialDays`)**: 键值对格式。
* 例如：`"2025-02-14": { "giftId": "ring_001", "title": "情人节快乐", "message": "这是给你的特别惊喜" }`
* **逻辑：** 如果当前日期匹配到 `specialDays`，直接发放指定礼物；否则，从礼物池随机抽取。



---

### 2. 礼物抽取算法 (Product Logic)

为了保证“长周期”的体验，我们需要一套公平且有惊喜感的逻辑：

1. **确定性优先**：系统首先检查今天是否在 `specialDays` 列表中。如果是，直接展示预设礼物。
2. **概率随机**：如果今天不是特殊日子，系统进行随机抽取。
* **权重触发**：你可以设置一个概率（比如 10%），抽中则从 `exclusiveGifts`（贵重池）里随机拿一个，并打上“已领取”标签。
* **保底机制**：如果抽不中贵重礼物，则从 `commonGifts`（普通池）里随机选一个。


3. **持久化保存**：利用浏览器的 `localStorage`。一旦用户在某一天完成了“拆箱”，结果就固定下来，防止用户通过不断刷新页面来“洗”掉不喜欢的礼物。

---

### 3. 配置文件的样子 (示例)

你可以直接在 GitHub 上编辑这个 `config.js`：

```javascript
const CONFIG = {
  startDate: "2025-01-29", // 春节开始
  password: "LOVE520",     // 写死的密码
  
  // 1. 贵重礼物：一生一次，抽完就没
  exclusiveGifts: [
    { id: "g1", name: "大红包", image: "hongbao.jpg" },
    { id: "g2", name: "清空购物车", image: "cart.jpg" }
  ],

  // 2. 普通礼物：可以重复，增加日常趣味
  commonGifts: [
    "今天的奶茶我包了",
    "一个大大的拥抱",
    "听你指挥一整天",
    "圣诞老人（提前委派版）的亲亲"
  ],

  // 3. 特殊日子：指定日期拿指定礼物
  specialDays: {
    "2025-01-29": { giftId: "g1", title: "新春大吉", message: "第一份礼物一定要大！" },
    "2025-02-14": { giftId: "g2", title: "情人节", message: "给最爱的你" },
    "2024-12-25": { giftId: "special_1", title: "圣诞快乐", message: "终于到圣诞啦！" }
  }
};

```

---

### 4. 界面与交互 (UX)

* **长卷轴/网格**：因为跨度从春节到圣诞（大半年），建议界面采用**“时间轴”**或**“动态生成的日历月视图”**，而不是一次性展示几百个格子。
* **未解锁状态**：灰色的信封或礼盒，上面写着倒数天数。
* **已解锁状态**：亮起的礼盒，点击可查看历史获得的礼物。

### 5. 给你的下一步建议

为了帮你把这个想法落地到 GitHub 上，我们可以分两步走：

1. **我可以为你生成一个单文件的 HTML (包含 CSS 和 JS)**。你只需要把这个文件上传到 GitHub 仓库，开启 GitHub Pages 就能用。
2. **我会把 `config` 部分标注得非常清楚**。你后续只需要在 GitHub 网页上点击“Edit”，改改文字保存即可。

**你想让我现在为你写出这个“单文件版”的代码原型吗？或者你对“贵重礼物”的抽取概率有什么特殊要求？**